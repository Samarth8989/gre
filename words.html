<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>24 GRE Words ‚Äî BridgeWords</title>
    
    <!-- Mixpanel Analytics -->
    <script type="text/javascript">
    (function(f,b){if(!b.__SV){var e,g,i,h;window.mixpanel=b;b._i=[];b.init=function(e,f,c){function g(a,d){var b=d.split(".");2==b.length&&(a=a[b[0]],d=b[1]);a[d]=function(){a.push([d].concat(Array.prototype.slice.call(arguments,0)))}}var a=b;"undefined"!==typeof c?a=b[c]=[]:c="mixpanel";a.people=a.people||[];a.toString=function(a){var d="mixpanel";"mixpanel"!==c&&(d+="."+c);a||(d+=" (stub)");return d};a.people.toString=function(){return a.toString(1)+".people (stub)"};i="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");for(h=0;h<i.length;h++)g(a,i[h]);var j="set set_once union unset remove delete".split(" ");a.get_group=function(){function b(c){d[c]=function(){call2_args=arguments;call2=[c].concat(Array.prototype.slice.call(call2_args,0));a.push([e,call2])}}for(var d={},e=["get_group"].concat(Array.prototype.slice.call(arguments,0)),c=0;c<j.length;c++)b(j[c]);return d};b._i.push([e,f,c])};b.__SV=1.2;e=f.createElement("script");e.type="text/javascript";e.async=!0;e.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===f.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";g=f.getElementsByTagName("script")[0];g.parentNode.insertBefore(e,g)}})(document,window.mixpanel||[]);
    mixpanel.init('92504fbac0c460a6ce18ba437266a406', {track_pageview: true});
    </script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Satoshi:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #FAFAF9;
            --bg-subtle: #F5F5F4;
            --text-primary: #1C1917;
            --text-secondary: #57534E;
            --text-tertiary: #A8A29E;
            --accent: #2563EB;
            --accent-soft: #DBEAFE;
            --border: #E7E5E4;
            --green: #059669;
            --green-soft: #D1FAE5;
            --serif: 'Instrument Serif', Georgia, serif;
            --sans: 'Satoshi', -apple-system, sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
        }

        body {
            font-family: var(--sans);
            background: var(--bg);
            color: var(--text-primary);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.4s ease, visibility 0.4s ease;
        }

        .loading-screen.fade-out {
            opacity: 0;
            visibility: hidden;
        }

        .loading-text {
            font-family: var(--sans);
            font-size: 1.25rem;
            color: var(--text-secondary);
            letter-spacing: 0.02em;
        }

        .dots::after {
            content: '';
        }

        @keyframes dots {
            0% { content: ''; }
            25% { content: '.'; }
            50% { content: '..'; }
            75% { content: '...'; }
            100% { content: ''; }
        }

        /* Subtle grain texture */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.3;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            z-index: 1000;
        }

        /* Navigation */
        nav {
            padding: 1.25rem 2rem;
            background: var(--bg);
            border-bottom: 1px solid var(--border);
        }

        .nav-inner {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: var(--serif);
            font-size: 1.5rem;
            font-weight: 400;
            color: var(--text-primary);
            text-decoration: none;
            letter-spacing: -0.02em;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .progress-mini {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .progress-mini strong {
            color: var(--accent);
        }

        .btn-back {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .btn-back:hover {
            color: var(--text-primary);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 2rem;
            max-width: 700px;
            width: 100%;
            margin: 0 auto;
        }

        /* Progress Bar */
        .progress-section {
            margin-bottom: 2rem;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .progress-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .progress-count {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .progress-bar {
            background: var(--border);
            border-radius: 100px;
            height: 6px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent);
            border-radius: 100px;
            width: 0%;
            transition: width 0.4s ease;
        }

        /* Card Container */
        .card-container {
            position: relative;
            min-height: 450px;
            overflow: hidden;
        }

        /* Word Card */
        .word-card {
            background: white;
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: 
                0 1px 2px rgba(0,0,0,0.04),
                0 8px 32px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
            opacity: 0;
            pointer-events: none;
            display: none;
            min-height: 380px;
        }

        .word-card.active {
            opacity: 1;
            pointer-events: auto;
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .word-card.learned {
            border-color: var(--green);
        }

        .word-card-top {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.5rem;
        }

        .word-number {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--accent);
            background: var(--accent-soft);
            padding: 0.35rem 0.75rem;
            border-radius: 100px;
        }

        .word-type {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-tertiary);
            padding: 0.4rem 0.8rem;
            background: var(--bg-subtle);
            border-radius: 6px;
        }

        .gre-word {
            font-family: var(--serif);
            font-size: clamp(2.5rem, 6vw, 3.5rem);
            font-weight: 400;
            letter-spacing: -0.02em;
            margin: 1rem 0 0.5rem;
        }

        .meaning-text {
            font-size: 1.15rem;
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        /* Bridge Section */
        .bridge-section {
            background: linear-gradient(135deg, #F0F9FF 0%, #E0F2FE 100%);
            border-radius: 16px;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
        }

        .bridge-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent), #60A5FA);
        }

        .bridge-label {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--accent);
            margin-bottom: 0.75rem;
        }

        .bridge-label svg {
            width: 14px;
            height: 14px;
        }

        .bridge-word {
            font-family: var(--serif);
            font-size: 1.5rem;
            font-style: italic;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .bridge-explanation {
            font-size: 1rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Navigation Controls */
        .card-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            gap: 1rem;
        }

        .nav-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.9rem 1.5rem;
            font-family: var(--sans);
            font-size: 0.95rem;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }

        .nav-btn svg {
            width: 18px;
            height: 18px;
        }

        .nav-btn-prev {
            background: var(--bg-subtle);
            color: var(--text-secondary);
            border: 1px solid var(--border);
        }

        .nav-btn-prev:hover:not(:disabled) {
            background: var(--border);
            color: var(--text-primary);
        }

        .nav-btn-prev:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .nav-btn-next {
            background: var(--text-primary);
            color: white;
        }

        .nav-btn-next:hover {
            background: #292524;
            transform: translateY(-1px);
        }

        .learn-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.9rem 1.25rem;
            font-family: var(--sans);
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--green);
            background: var(--green-soft);
            border: 2px solid transparent;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .learn-btn:hover {
            border-color: var(--green);
        }

        .learn-btn.learned {
            background: var(--green);
            color: white;
        }

        .learn-btn svg {
            width: 18px;
            height: 18px;
        }

        /* Completion Screen */
        .completion-screen {
            text-align: center;
            padding: 3rem;
            display: none;
        }

        .completion-screen.active {
            display: block;
        }

        .completion-icon {
            width: 80px;
            height: 80px;
            background: var(--green-soft);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
        }

        .completion-icon svg {
            width: 40px;
            height: 40px;
            color: var(--green);
        }

        .completion-screen h2 {
            font-family: var(--serif);
            font-size: 2rem;
            margin-bottom: 0.75rem;
        }

        .completion-screen p {
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        .completion-cta {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-width: 360px;
            margin: 0 auto;
        }

        .cta-input {
            padding: 1rem 1.25rem;
            font-family: var(--sans);
            font-size: 1rem;
            border: 1px solid var(--border);
            border-radius: 10px;
            background: white;
            text-align: center;
            transition: all 0.2s ease;
        }

        .cta-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px var(--accent-soft);
        }

        .btn-primary {
            padding: 1rem 1.5rem;
            font-family: var(--sans);
            font-size: 1rem;
            font-weight: 600;
            background: var(--text-primary);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-primary:hover {
            background: #292524;
        }

        .btn-secondary {
            padding: 1rem 1.5rem;
            font-family: var(--sans);
            font-size: 1rem;
            font-weight: 600;
            background: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--border);
            border-radius: 10px;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            transition: all 0.2s ease;
        }

        .btn-secondary:hover {
            background: var(--bg-subtle);
            color: var(--text-primary);
        }

        /* Keyboard hint */
        .keyboard-hint {
            text-align: center;
            margin-top: 1.5rem;
            font-size: 0.85rem;
            color: var(--text-tertiary);
        }

        .keyboard-hint kbd {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            font-family: var(--sans);
            font-size: 0.8rem;
            background: var(--bg-subtle);
            border: 1px solid var(--border);
            border-radius: 4px;
            margin: 0 0.15rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .main-content {
                padding: 1rem;
            }

            .word-card {
                padding: 1.5rem;
                min-height: auto;
            }

            .gre-word {
                font-size: 1.75rem;
            }

            .meaning-text {
                font-size: 1rem;
            }

            .bridge-word {
                font-size: 1.25rem;
            }

            .card-nav {
                flex-wrap: wrap;
                gap: 0.75rem;
            }

            .nav-btn {
                padding: 0.75rem 1rem;
                font-size: 0.9rem;
            }

            .learn-btn {
                width: 100%;
                justify-content: center;
            }

            .keyboard-hint {
                display: none;
            }

            .progress-mini {
                font-size: 0.8rem;
            }

            .btn-back {
                font-size: 0.85rem;
                padding: 0.4rem 0.75rem;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loading-screen">
        <div class="loading-text">extra marks loading<span class="dots"></span></div>
    </div>

    <nav>
        <div class="nav-inner">
            <a href="index.html" class="logo">BridgeWords</a>
            <div class="nav-right">
                <span class="progress-mini"><strong id="learned-nav">0</strong> learned</span>
                <a href="index.html" class="btn-back">‚Üê Back</a>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <div class="progress-section">
            <div class="progress-header">
                <span class="progress-label">Your progress</span>
                <span class="progress-count"><span id="current-num">1</span> of 25</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>

        <div class="card-container" id="card-container">
            <!-- Cards will be inserted by JavaScript -->
        </div>

        <div class="card-nav" id="card-nav">
            <button class="nav-btn nav-btn-prev" id="prev-btn" disabled>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M15 18l-6-6 6-6"/>
                </svg>
                Previous
            </button>
            <button class="learn-btn" id="learn-btn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 6L9 17l-5-5"/>
                </svg>
                <span>Mark as Known</span>
            </button>
            <button class="nav-btn nav-btn-next" id="next-btn">
                Next
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 18l6-6-6-6"/>
                </svg>
            </button>
        </div>

        <div class="keyboard-hint">
            Use <kbd>‚Üê</kbd> <kbd>‚Üí</kbd> arrow keys to navigate, <kbd>Space</kbd> to mark as learned
        </div>

        <!-- Completion Screen -->
        <div class="completion-screen" id="completion-screen">
            <div class="completion-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 6L9 17l-5-5"/>
                </svg>
            </div>
            <h2>You've seen all 25 words!</h2>
            <p>You've learned <strong id="final-count">0</strong> words. Want to be notified when we launch 1,000+ more?</p>
            <form class="completion-cta" onsubmit="handleSubmit(event)">
                <input type="email" class="cta-input" placeholder="Enter your email" required>
                <button type="submit" class="btn-primary">Notify Me at Launch</button>
                <button type="button" class="btn-secondary" onclick="restart()">Review Words Again</button>
            </form>
        </div>
    </main>

    <script>
        const words = [
            { word: "Tyro", type: "Noun", meaning: "Beginner", bridge: "TRY-ro ‚áí try new" },
            { word: "Arrogate", type: "Verb", meaning: "Take without right", bridge: "arrogant claim" },
            { word: "Levity", type: "Noun", meaning: "Lack of seriousness", bridge: "leave it yaar (casual attitude / not serious)" },
            { word: "Venerate", type: "Verb", meaning: "Respect deeply", bridge: "VEN-uh ‚áí respect max" },
            { word: "Anachronism", type: "Noun", meaning: "Misplaced in time", bridge: "chrono ‚áí time" },
            { word: "Whimsical", type: "Adjective", meaning: "Playfully unpredictable", bridge: "whim ‚áí mood" },
            { word: "Apathy", type: "Noun", meaning: "Lack of interest", bridge: "aah... ‚áí no interest" },
            { word: "Empathy", type: "Noun", meaning: "Feel others' feelings", bridge: "em ‚áí in + pathy ‚áí feel" },
            { word: "Pragmatic", type: "Adjective", meaning: "Practical", bridge: "prag ‚áí practical" },
            { word: "Cynical", type: "Adjective", meaning: "Distrust motives", bridge: "cynic ‚áí shakki" },
            { word: "Meticulous", type: "Adjective", meaning: "Detail-focused", bridge: "tick ‚áí check" },
            { word: "Egregious", type: "Adjective", meaning: "Shockingly bad", bridge: "e-gross ‚áí extreme bad" },
            { word: "Candor", type: "Noun", meaning: "Honest, frank", bridge: "can-dor ‚áí can't hide (khul ke bol)" },
            { word: "Laconic", type: "Adjective", meaning: "Brief, few words", bridge: "lack ‚áí words" },
            { word: "Garrulous", type: "Adjective", meaning: "Talkative", bridge: "garr ‚áí garr-garr" },
            { word: "Ambivalent", type: "Adjective", meaning: "Mixed feelings", bridge: "ambi/bi ‚áí mixed (dono side)" },
            { word: "Mitigate", type: "Verb", meaning: "Make less severe", bridge: "mitti pao" },
            { word: "Alleviate", type: "Verb", meaning: "Relieve pain/problem", bridge: "LEE-vee ‚áí relieve (pain light)" },
            { word: "Obfuscate", type: "Verb", meaning: "Make unclear; confuse", bridge: "fuse ‚áí confuse" },
            { word: "Elucidate", type: "Verb", meaning: "Make clear; explain", bridge: "lucid ‚áí clear" },
            { word: "Repudiate", type: "Verb", meaning: "Reject; deny", bridge: "pudi ‚áí put-down (reject)" },
            { word: "Vindicate", type: "Verb", meaning: "Prove right/clear blame", bridge: "vin ‚áí win (prove right)" },
            { word: "Ubiquitous", type: "Adjective", meaning: "Present everywhere", bridge: "ubi ‚áí you be (har jagah)" },
            { word: "Frugal", type: "Adjective", meaning: "Economical", bridge: "fuel bachao" }
        ];

        let currentIndex = 0;
        let learnedWords = JSON.parse(localStorage.getItem('learnedWords') || '[]');

        const cardContainer = document.getElementById('card-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const learnBtn = document.getElementById('learn-btn');
        const cardNav = document.getElementById('card-nav');
        const completionScreen = document.getElementById('completion-screen');

        function createCard(wordData, index) {
            const isLearned = learnedWords.includes(index);
            const card = document.createElement('div');
            card.className = `word-card ${isLearned ? 'learned' : ''}`;
            card.dataset.index = index;
            card.innerHTML = `
                <div class="word-card-top">
                    <span class="word-number">${index + 1} / 24</span>
                    <span class="word-type">${wordData.type}</span>
                </div>
                <div class="gre-word">${wordData.word}</div>
                <div class="meaning-text">${wordData.meaning}</div>
                <div class="bridge-section">
                    <div class="bridge-label">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                        Bridge Word
                    </div>
                    <div class="bridge-word">"${wordData.bridge}"</div>
                </div>
            `;
            return card;
        }

        function renderCards() {
            cardContainer.innerHTML = '';
            words.forEach((word, index) => {
                const card = createCard(word, index);
                if (index === currentIndex) {
                    card.classList.add('active');
                }
                cardContainer.appendChild(card);
            });
        }

        function showCard(newIndex) {
            const cards = document.querySelectorAll('.word-card');
            
            // Hide current card
            cards[currentIndex].classList.remove('active');
            
            // Show new card
            cards[newIndex].classList.add('active');
            
            // Update index
            currentIndex = newIndex;
            updateUI();
            
            // Track word viewed
            mixpanel.track('Word Viewed', {
                word: words[newIndex].word,
                word_number: newIndex + 1
            });
        }

        function updateUI() {
            // Update progress
            document.getElementById('current-num').textContent = currentIndex + 1;
            document.getElementById('progress-fill').style.width = ((currentIndex + 1) / 24 * 100) + '%';
            document.getElementById('learned-nav').textContent = learnedWords.length;

            // Update buttons
            prevBtn.disabled = currentIndex === 0;
            
            if (currentIndex === 23) {
                nextBtn.innerHTML = `
                    Finish
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 6L9 17l-5-5"/>
                    </svg>
                `;
            } else {
                nextBtn.innerHTML = `
                    Next
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                `;
            }

            // Update learn button
            const isLearned = learnedWords.includes(currentIndex);
            learnBtn.classList.toggle('learned', isLearned);
            learnBtn.querySelector('span').textContent = isLearned ? 'Known' : 'Mark as Known';
        }

        function goNext() {
            if (currentIndex < 24) {
                showCard(currentIndex + 1);
            } else {
                showCompletion();
            }
        }

        function goPrev() {
            if (currentIndex > 0) {
                showCard(currentIndex - 1);
            }
        }

        function toggleLearned() {
            const wasLearned = learnedWords.includes(currentIndex);
            
            if (wasLearned) {
                learnedWords = learnedWords.filter(i => i !== currentIndex);
            } else {
                learnedWords.push(currentIndex);
                // Track word marked as known
                mixpanel.track('Word Marked Known', {
                    word: words[currentIndex].word,
                    word_number: currentIndex + 1,
                    total_known: learnedWords.length
                });
            }
            localStorage.setItem('learnedWords', JSON.stringify(learnedWords));
            
            const card = document.querySelector(`.word-card[data-index="${currentIndex}"]`);
            card.classList.toggle('learned', learnedWords.includes(currentIndex));
            
            updateUI();
        }

        function showCompletion() {
            cardContainer.style.display = 'none';
            cardNav.style.display = 'none';
            document.querySelector('.keyboard-hint').style.display = 'none';
            document.querySelector('.progress-section').style.display = 'none';
            
            document.getElementById('final-count').textContent = learnedWords.length;
            completionScreen.classList.add('active');
            
            // Track completion
            mixpanel.track('All Words Completed', {
                words_marked_known: learnedWords.length,
                total_words: 24
            });
        }

        function restart() {
            currentIndex = 0;
            cardContainer.style.display = 'block';
            cardNav.style.display = 'flex';
            document.querySelector('.keyboard-hint').style.display = 'block';
            document.querySelector('.progress-section').style.display = 'block';
            completionScreen.classList.remove('active');
            
            renderCards();
            updateUI();
        }

        function handleSubmit(e) {
            e.preventDefault();
            const input = e.target.querySelector('input');
            const email = input.value;
            const btn = e.target.querySelector('.btn-primary');
            const originalText = btn.textContent;
            
            // Show sending state
            btn.textContent = 'Sending...';
            btn.disabled = true;
            
            // Send to Google Sheets
            const scriptURL = 'https://script.google.com/macros/s/AKfycbwwlTATXz7j1DCcAJXYpEjsSNllGQzNbKsOy4dU1cZlrdxEFJPzgh06LDHUTw0p-oFt/exec';
            
            fetch(scriptURL + '?email=' + encodeURIComponent(email), {
                method: 'GET',
                mode: 'no-cors'
            }).then(() => {
                btn.textContent = "We'll notify you! üéâ";
                btn.style.background = '#059669';
                btn.disabled = false;
                input.value = '';
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '';
                }, 3000);
            }).catch(() => {
                btn.textContent = "We'll notify you! üéâ";
                btn.style.background = '#059669';
                btn.disabled = false;
                input.value = '';
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '';
                }, 3000);
            });
        }

        // Event listeners
        prevBtn.addEventListener('click', goPrev);
        nextBtn.addEventListener('click', goNext);
        learnBtn.addEventListener('click', toggleLearned);

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (completionScreen.classList.contains('active')) return;
            
            if (e.key === 'ArrowRight') {
                goNext();
            } else if (e.key === 'ArrowLeft') {
                goPrev();
            } else if (e.key === ' ') {
                e.preventDefault();
                toggleLearned();
            }
        });

        // Initialize
        renderCards();
        updateUI();
        
        // Track first word viewed
        mixpanel.track('Word Viewed', {
            word: words[0].word,
            word_number: 1
        });

        // Fade out loading screen
        window.addEventListener('load', () => {
            // Animate dots
            const dotsEl = document.querySelector('.dots');
            let dotCount = 0;
            const dotsInterval = setInterval(() => {
                dotCount = (dotCount + 1) % 4;
                dotsEl.textContent = '.'.repeat(dotCount);
            }, 400);
            
            setTimeout(() => {
                clearInterval(dotsInterval);
                document.getElementById('loading-screen').classList.add('fade-out');
            }, 2000);
        });
    </script>
</body>
</html>
